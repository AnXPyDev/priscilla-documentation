\documentclass{article}
\usepackage{geometry}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{pygmentex}
\usepackage{minted}
\usepackage{glossaries}

\renewcommand{\figurename}{Obrázok}

\graphicspath{ {../images/} }

\geometry{margin=0.75in}

\begin{document}

\title{Dokumentácia bezpečného testovacieho systému}
\author{Jozef Komáromy}

\maketitle

\section{Prehľad problému}

Účelom tohto projektu je vytvoriť testovací systém pre školu, ktorý zabezpečí počítač testovaného študenta tak, aby nemohol podvádzať. Vo vačšine prípadov prebieha digitálne testovanie prostredníctvom web-aplikácie v prehliadači (napr. Google Forms, Moodle, a pod.). Tieto spôsoby testovania sú často nezabezpečené proti najjednoduchším spôsobom podvádzania. Testovaná osoba si napríklad môže jednoducho otvoriť ďaľší tab a vyhladávať správne odpovede na Googli. Aby sme vyriešili problém podvádznia bez priameho zásahu do testovacieho prostredia, potrebujeme vyvinúť aplikáciu, ktorá nahradí úlohu tradičného webového prehliadaču pri testovaní. Testovacie prostredie teda bude spustené cez túto aplikáciu. Možnosti testovanej osoby sú obmedzené tak, že nemôže na počítači zobrazovať iné aplikácie, a prechádzať na web-stránky ktoré mu neboli explicitne povolené.

\section{Riešenie}

Mojím riešením tohto problému je sada softvéru pozostavájúca z 4 častí:
\begin{enumerate}
  \item \emph{Client}
  \item \emph{Vanguard}
  \item \emph{Server}
  \item \emph{Supervisor}
\end{enumerate}

\subsection{Client}

Aplikácia spustená na počítači testovanej osoby (ďalej študent), v ktorej je spustené webové testovacie prostredie. Po otvorení aplikácie má študent možnosť pripojiť sa do miestnosti vytvorenej dohliadajúcou osobou (ďalej učiteľ). Po pripojení do miestnosti sa načíta konfigurácia pre túto miestnosť a zobrazí sa testovacie prostredie. Taktiež sa spustí program Vanguard, ktorý upozorňuje na podozrivé správanie študenta. Informácie o podozrivom správaní sa ďalej posielajú na Server.

\subsection{Vanguard}

Pomocný program pre testovaciu aplikáciu, ktorý sleduje akcie študenta vrámci celého operačného systému. Ak vyhodnotí že správanie študenta je podozrivé, posúva túto informáciu do aplikácie Client. Zahŕňa viacero služieb, ktoré sledujú napr. aké okno je v popredí systému.

\subsection{Server}

Softvér bežiaci na vzdialenom zariadení, slúži zväčša ako komunikačná vrstva medzi aplikáciami Client a Supervisor. Taktiež sa tu uchovávajú informácie o miestnostiach, a študentoch v nich. Poskytuje aj bezpečné prihlásenie učiteľa do systému, a pripojenie študenta do miestnosti.

\subsection{Supervisor}

Webová aplikácia ktorá učiteľovy poskytuje zobrazenie informácií získaných zo Serveru. Učiteľ sa prihlási do systému a následne môže vytvárať miestnosti, monitorovať študentov pripojených do miestnosti, a diaľkovo ovládať ich klientskú aplikáciu.

\section{Špecifikácia}

\subsection{Client}

\subsection{Vanguard}

\subsection{Server}

\subsubsection{Technológie}
Server je implementovaný v programovacom jazyku \emph{PHP} pre webový server \emph{Apache} a databázu \emph{MySQL/MariaDB}.
\newline
Pre komunikáciu s aplikáciou klienta a applikáciou Supervisor sa používajú \emph{POST} requesty cez protokol \emph{HTTP(S)} kde aj klient a server posielajú dáta v formáte \emph{JSON}.

\subsubsection{Konfigurácia}

\subsubsection{Databáza}

Databázová schéma obsahuje nasledovné entity:

\subsubsection{Vendor}

\newcommand{\filedesc}[1]{\vspace{0.3cm} \noindent \textbf{#1}}

\emph{PHP} programy v adresáry \emph{/vendor} niesu prístupné verejnosti, slúžia ako knižnica pre endpointy.

\filedesc{autoload.php} - Automaticky načítaný pre každý request na endpoint, načíta premenné prostredia zo súboru \emph{env.ini}, a includne \emph{util.php}.

\filedesc{Endpoint.php} (\emph{abstract class}) - Je abstrakciou pre koncový bod servera. Automaticky dekoduje request body z formátu \emph{JSON} do php array. Taktiež zachytáva chyby, aby neboli viditelné pre klienta. Vždy vracia výsledok vo formáte \emph{JSON}, ktorý vždu obsahuje hodnotu \emph{code}, ktorá reprezentuje úspešnosť požiadavky. Ak \emph{code = 0}, znamená to, že operácia prebehla úspešne, nenulové hodnoty znamenajú chybu. Ak nastala chyba jej popis sa nachádza v hodnote \emph{message}.

\begin{minted}{json}
  // príklad výsledku úspešnej operácie
  {
    "code": 0,
    "data": {...}
  }

  // príklad výsledku operácie s chybou
  {
    "code": 1,
    "message": "Input argument username not provided"
  }
\end{minted}

\filedesc{Response.php} (\emph{interface}) - Reprezentuje odpoveď servera, obsahuje kód odpovede a dáta odpovede.
\begin{quote}
  \filedesc{ResponseSuccess} - má kód odpovede 0, a dáta reprezentujúce výsledok operácie

  \filedesc{ResponseError} - má kód odpovede 0, a dáta obsahujúce iba správu (\emph{message}), ktorá popisuje chybu ktorá nastala
\end{quote}

\filedesc{Database.php} (\emph{class}) - Pripojenie na databázu

\filedesc{Auth.php} - Kryptografické funkcie na generovanie bezpečných hesiel, kontrola hesla, hashovanie, a taktiež interakcie s databázou týkajúce sa autentikácie používateľa.

\subsubsection{Endpointy}

\subsection{Supervisor}


\end{document}
